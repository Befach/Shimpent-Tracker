(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{3399:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/register",function(){return r(5178)}])},5178:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return h}});var t=r(5893),n=r(7294),a=r(1163),i=r(6490);let l="https://semzvmdjabbceqvanxbt.supabase.co";console.log("Creating Supabase client with URL:",l);let c=(0,i.eI)(l,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlbXp2bWRqYWJiY2VxdmFueGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTg2NzMsImV4cCI6MjA1ODEzNDY3M30.1WVli2iZhMfnXD8HZk5Q7WLLdy9p33tSAGyALoEeq-Q",{auth:{persistSession:!0}});var o=r(9008),d=r.n(o),m=r(1664),u=r.n(m);function x(e){let{children:s,title:r="Shipment Tracker"}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)(d(),{children:[(0,t.jsx)("title",{children:r}),(0,t.jsx)("meta",{name:"description",content:"International Shipment Tracking System"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex justify-between h-16",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)(u(),{href:"/",children:(0,t.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"ShipTrack"})})})})})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s}),(0,t.jsx)("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("p",{className:"text-center text-gray-500",children:["\xa9 ",new Date().getFullYear()," ShipTrack. All rights reserved."]})})})]})}function h(){let[e,s]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!1);(0,a.useRouter)();let f=async s=>{s.preventDefault(),m(""),p(!0);try{if(r!==l)throw Error("Passwords do not match");if(r.length<6)throw Error("Password must be at least 6 characters");let{data:s,error:t}=await c.auth.signUp({email:e,password:r});if(t)throw t;g(!0)}catch(e){m(e.message||"An error occurred during registration")}finally{p(!1)}};return(0,t.jsx)(x,{title:"Admin Registration",children:(0,t.jsx)("div",{className:"max-w-md mx-auto",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create Admin Account"}),b?(0,t.jsxs)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6 rounded",children:[(0,t.jsx)("p",{children:"Registration request submitted!"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Please check your email for verification. In the meantime, you can use:"}),(0,t.jsxs)("div",{className:"mt-3 p-3 bg-gray-100 rounded text-sm font-mono",children:[(0,t.jsx)("p",{children:"Email: admin@test.com"}),(0,t.jsx)("p",{children:"Password: admin123"})]}),(0,t.jsx)("p",{className:"text-sm mt-2",children:(0,t.jsx)(u(),{href:"/admin/login",children:(0,t.jsx)("span",{className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:"Go to login page"})})})]}):(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded",children:(0,t.jsx)("p",{children:d})}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:"Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:r,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-700 font-medium mb-2",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:h?"Creating Account...":"Create Account"})]})]})]})})})}}},function(e){e.O(0,[490,664,888,774,179],function(){return e(e.s=3399)}),_N_E=e.O()}]);