(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[988],{4431:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/shipments",function(){return s(6995)}])},7295:function(e,t,s){"use strict";var i=s(6490);let n="https://semzvmdjabbceqvanxbt.supabase.co";console.log("Creating Supabase client with URL:",n);let a=(0,i.eI)(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlbXp2bWRqYWJiY2VxdmFueGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTg2NzMsImV4cCI6MjA1ODEzNDY3M30.1WVli2iZhMfnXD8HZk5Q7WLLdy9p33tSAGyALoEeq-Q",{auth:{persistSession:!0}});t.Z=a},6995:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var i=s(5893),n=s(7294),a=s(1664),c=s.n(a),r=s(5951),l=s(7295),d=s(1163);function x(){let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[x,o]=(0,n.useState)(""),p=(0,d.useRouter)();(0,n.useEffect)(()=>{h()},[]);let h=async()=>{try{a(!0);let{data:e,error:s}=await l.Z.from("shipments").select("*").order("created_at",{ascending:!1});if(s)throw s;t(e||[])}catch(e){console.error("Error fetching shipments:",e),o("Failed to load shipments")}finally{a(!1)}},m=e=>{p.push("/admin/shipments/".concat(e))},u=e=>{p.push("/admin/shipments/".concat(e,"/edit"))};return(0,i.jsxs)(r.Z,{title:"All Shipments",children:[(0,i.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"All Shipments"}),(0,i.jsx)(c(),{href:"/admin/shipments/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Add Shipment"})]}),x&&(0,i.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg",children:(0,i.jsx)("p",{children:x})}),s?(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,i.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tracking ID"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origin"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No shipments found"})}):e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tracking_id})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"text-sm text-gray-900",children:[e.origin_city,", ",e.origin_country]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"text-sm text-gray-900",children:[e.destination_city,", ",e.destination_country]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.status})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,i.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,i.jsx)("button",{onClick:()=>m(e.id),className:"text-blue-600 hover:text-blue-900 mr-3",children:"View"}),(0,i.jsx)("button",{onClick:()=>u(e.id),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"})]})]},e.id))})]})})]})}}},function(e){e.O(0,[445,490,664,675,753,888,774,179],function(){return e(e.s=4431)}),_N_E=e.O()}]);