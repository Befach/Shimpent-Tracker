(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{2345:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/shipments/[id]",function(){return s(4772)}])},7295:function(e,t,s){"use strict";var i=s(6490);let n="https://semzvmdjabbceqvanxbt.supabase.co";console.log("Creating Supabase client with URL:",n);let r=(0,i.eI)(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlbXp2bWRqYWJiY2VxdmFueGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTg2NzMsImV4cCI6MjA1ODEzNDY3M30.1WVli2iZhMfnXD8HZk5Q7WLLdy9p33tSAGyALoEeq-Q",{auth:{persistSession:!0}});t.Z=r},4772:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var i=s(5893),n=s(7294),r=s(1163),a=s(5951),d=s(7295),c=s(1664),l=s.n(c);function m(){let{id:e}=(0,r.useRouter)().query,[t,s]=(0,n.useState)(null),[c,m]=(0,n.useState)(!0),[o,h]=(0,n.useState)("");(0,n.useEffect)(()=>{e&&x()},[e]);let x=async()=>{try{m(!0);let{data:t,error:i}=await d.Z.from("shipments").select("*").eq("id",e).single();if(i)throw i;s(t)}catch(e){console.error("Error fetching shipment:",e),h("Failed to load shipment data")}finally{m(!1)}};return(0,i.jsx)(a.Z,{title:"View Shipment",children:c?(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"Shipment Details"}),(0,i.jsxs)("div",{className:"space-x-2",children:[(0,i.jsx)(l(),{href:"/admin/shipments",className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md",children:"Back to Shipments"}),(0,i.jsx)(l(),{href:"/admin/shipments/".concat(e,"/edit"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Edit Shipment"}),(0,i.jsx)(l(),{href:"/admin/shipments/".concat(e,"/media"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md ml-2",children:"Manage Media"})]})]}),o&&(0,i.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg",children:(0,i.jsx)("p",{children:o})}),t&&(0,i.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["Tracking ID: ",t.tracking_id]}),(0,i.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",new Date(t.created_at).toLocaleDateString()]})]}),(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Origin"}),(0,i.jsxs)("p",{className:"text-gray-600",children:[t.origin_city,", ",t.origin_country]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Destination"}),(0,i.jsxs)("p",{className:"text-gray-600",children:[t.destination_city,", ",t.destination_country]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Current Location"}),(0,i.jsxs)("p",{className:"text-gray-600",children:[t.current_location_city,", ",t.current_location_country]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Transport Mode"}),(0,i.jsx)("p",{className:"text-gray-600",children:t.transport_mode})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Status"}),(0,i.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,i.jsx)("p",{className:"text-blue-800 font-medium",children:t.status})})]})]})]})]})})}}},function(e){e.O(0,[445,490,664,675,753,888,774,179],function(){return e(e.s=2345)}),_N_E=e.O()}]);