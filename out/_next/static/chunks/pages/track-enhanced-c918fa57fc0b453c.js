(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33],{7379:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/track-enhanced",function(){return s(4452)}])},621:function(e,t,s){"use strict";var r=s(5893),a=s(7294),n=s(1664),i=s.n(n),l=s(5675),c=s.n(l),d=s(2914),o=s(1163);t.Z=()=>{let[e,t]=(0,a.useState)(!1),s=(0,o.useRouter)();return(0,r.jsxs)("nav",{className:"bg-white shadow-md",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i(),{href:"/",className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(c(),{src:"/images/befach-logo.png",alt:"Befach International",width:200,height:60,className:"h-14 w-auto"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)("a",{href:"https://www.befach.com",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 rounded-md text-sm font-medium text-[#5D4037] hover:bg-[#F39C12]/10",children:"Home"}),(0,r.jsx)(i(),{href:"/track-new",className:"px-3 py-2 rounded-md text-sm font-medium ".concat("/track-new"===s.pathname?"bg-[#F39C12] text-white":"text-[#5D4037] hover:bg-[#F39C12]/10"),children:"Track Shipment"}),(0,r.jsx)(i(),{href:"/admin/login",className:"px-3 py-2 rounded-md text-sm font-medium ".concat(s.pathname.startsWith("/admin")?"bg-[#5D4037] text-white":"text-[#5D4037] hover:bg-[#5D4037]/10"),children:"Admin"})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>{t(!e)},className:"inline-flex items-center justify-center p-2 rounded-md text-[#5D4037] hover:text-[#F39C12] focus:outline-none",children:e?(0,r.jsx)(d.aHS,{size:24}):(0,r.jsx)(d.Fm7,{size:24})})})]})}),e&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,r.jsx)("a",{href:"https://www.befach.com",target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 rounded-md text-base font-medium text-[#5D4037] hover:bg-[#F39C12]/10",children:"Home"}),(0,r.jsx)(i(),{href:"/track-new",className:"block px-3 py-2 rounded-md text-base font-medium ".concat("/track-new"===s.pathname?"bg-[#F39C12] text-white":"text-[#5D4037] hover:bg-[#F39C12]/10"),children:"Track Shipment"}),(0,r.jsx)(i(),{href:"/admin/login",className:"block px-3 py-2 rounded-md text-base font-medium ".concat(s.pathname.startsWith("/admin")?"bg-[#5D4037] text-white":"text-[#5D4037] hover:bg-[#5D4037]/10"),children:"Admin"})]})})]})}},7295:function(e,t,s){"use strict";var r=s(6490);let a="https://semzvmdjabbceqvanxbt.supabase.co";console.log("Creating Supabase client with URL:",a);let n=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlbXp2bWRqYWJiY2VxdmFueGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTg2NzMsImV4cCI6MjA1ODEzNDY3M30.1WVli2iZhMfnXD8HZk5Q7WLLdy9p33tSAGyALoEeq-Q",{auth:{persistSession:!0}});t.Z=n},6771:function(e,t,s){"use strict";s.d(t,{w_:function(){return c}});var r=s(7294),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=r.createContext&&r.createContext(a),i=function(){return(i=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s};function c(e){return function(t){return r.createElement(d,i({attr:i({},e.attr)},t),function e(t){return t&&t.map(function(t,s){return r.createElement(t.tag,i({key:s},t.attr),e(t.child))})}(e.child))}}function d(e){var t=function(t){var s,a=e.attr,n=e.size,c=e.title,d=l(e,["attr","size","title"]),o=n||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:s,style:i(i({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&r.createElement("title",null,c),e.children)};return void 0!==n?r.createElement(n.Consumer,null,function(e){return t(e)}):t(a)}},4452:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),n=s(9008),i=s.n(n),l=s(7295),c=s(2914),d=s(621);let o=["Product Insurance Completed","Supplier Payment Processed","Awaiting Packaging Approval from Customer","Pickup Completed at Origin","In Transit to India","Pending Customer Clearance","Customs Clearance Completed","Dispatched to Befach Warehouse","Dispatched to Customer Warehouse"];t.default=()=>{let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(-1),f=async t=>{if(t.preventDefault(),!e.trim()){u("Please enter a tracking number");return}x(!0),u(""),n(null);try{console.log("Searching for tracking ID:",e);let{data:t,error:s}=await l.Z.from("shipments").select("*").eq("tracking_id",e).single();if(console.log("Query result:",{data:t,error:s}),s){console.error("Error fetching shipment:",s),u("Error: ".concat(s.message));return}if(!t){u("No shipment found with this tracking number");return}console.log("Shipment found:",t),n(t);let r=o.findIndex(e=>e===t.status);p(r)}catch(e){console.error("Tracking error:",e),u("Failed to track shipment. Please try again.")}finally{x(!1)}},b=e=>{if(!e)return(0,r.jsx)(c.Hzt,{size:24});let t=e.toLowerCase();return t.includes("air")||t.includes("plane")?(0,r.jsx)(c.NqP,{size:24}):t.includes("sea")||t.includes("ship")?(0,r.jsx)(c.SsO,{size:24}):t.includes("rail")||t.includes("train")?(0,r.jsx)(c._vO,{size:24}):(0,r.jsx)(c.Hzt,{size:24})},j=()=>{let e=[],t=new Date;for(let s=0;s<=g;s++){let r=new Date(t);r.setDate(r.getDate()-(g-s)),r.setHours(Math.floor(12*Math.random())+8),r.setMinutes(Math.floor(60*Math.random())),e.push(r)}return e},N=(e,t)=>{if(!s||0===t||1===t||2===t)return"";if(3===t)return"".concat(s.origin_city,", ").concat(s.origin_country);if(t===o.length-1)return"".concat(s.destination_city,", ").concat(s.destination_country);{if(t===g)return"".concat(s.current_city||"",", ").concat(s.current_country||"");let e=["Frankfurt, Germany","Dubai, UAE","Singapore","Mumbai, India","Delhi, India"];return e[t%e.length]}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Track Your Shipment | ShipTrack"})}),(0,r.jsx)(d.Z,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-6",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s?(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"border-b pb-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)(c.Hzt,{className:"text-blue-600 mr-2 text-2xl"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipping ID"})]}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:["#",s.tracking_id]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,r.jsx)("div",{className:"mr-2 text-blue-600",children:b(s.transport_mode)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Transport Mode:"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:s.transport_mode||"Road"})]})]}),g>=0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Current Status:"}),(0,r.jsx)("div",{className:"mt-1 inline-block px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium",children:o[g]})]})]}),(0,r.jsx)("div",{className:"mb-6",children:o.map((e,t)=>{let s=t<=g,a=t===g,n=j(),i=N(e,t);return(0,r.jsxs)("div",{className:"relative mb-8 last:mb-0",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"mt-1 mr-4 ".concat(a?"text-green-500":s?"text-green-500":"text-gray-300"),children:s?(0,r.jsx)(c.FJM,{size:28}):(0,r.jsx)(c.gbA,{size:28})}),(0,r.jsxs)("div",{className:"flex-1 ".concat(a?"font-medium":""),children:[s&&t<=n.length-1&&(0,r.jsxs)("p",{className:"text-base text-gray-500 mb-1",children:[n[t].toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),", ",n[t].toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),(0,r.jsx)("h4",{className:"text-xl ".concat(a?"text-green-600 font-bold":s?"text-gray-900":"text-gray-400"),children:e}),i&&(0,r.jsx)("p",{className:"text-lg text-gray-600 mt-1",children:i})]})]}),t<o.length-1&&(0,r.jsx)("div",{className:"absolute left-3 top-8 bottom-0 w-0.5 h-8 bg-gray-200"})]},e)})}),(0,r.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-3",children:"Carrier"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-gray-600",children:"DL"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xl font-medium",children:"Devon Lane"}),(0,r.jsxs)("div",{className:"flex mt-2",children:[(0,r.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center text-blue-600 mr-4 text-lg",children:[(0,r.jsx)(c.I7T,{className:"mr-1"})," Call"]}),(0,r.jsxs)("a",{href:"#",className:"flex items-center text-blue-600 text-lg",children:[(0,r.jsx)(c.DCG,{className:"mr-1"})," Message"]})]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"border-b pb-4 mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Live Shipment Tracking"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base text-gray-500",children:"Shipping ID:"}),(0,r.jsxs)("p",{className:"font-bold text-blue-600 text-xl",children:["#",s.tracking_id]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base text-gray-500",children:"Shipping Status:"}),(0,r.jsx)("span",{className:"inline-block px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium",children:o[g]})]})]})]}),(0,r.jsx)("div",{className:"h-64 bg-gray-200 rounded-lg mb-6 flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Interactive Map Placeholder"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base text-gray-500",children:"Departure"}),(0,r.jsxs)("p",{className:"font-medium text-xl",children:[s.origin_city,", ",s.origin_country]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base text-gray-500",children:"Destination"}),(0,r.jsxs)("p",{className:"font-medium text-xl",children:[s.destination_city,", ",s.destination_country]})]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-2 text-blue-600",children:b(s.transport_mode)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base text-gray-500",children:"Transport Mode:"}),(0,r.jsx)("p",{className:"text-xl font-semibold text-gray-800",children:s.transport_mode||"Road"})]})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:"Package Shipped"}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"Estimated Package Delivery"})]}),(0,r.jsx)("div",{className:"relative pt-1",children:(0,r.jsx)("div",{className:"overflow-hidden h-3 mb-4 text-xs flex rounded bg-gray-200",children:(0,r.jsx)("div",{style:{width:"".concat(g<0?0:Math.round((g+1)/o.length*100),"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})})}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("p",{className:"text-lg text-gray-700 font-medium",children:s.created_at?new Date(s.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"N/A"}),(0,r.jsx)("p",{className:"text-lg text-gray-700 font-medium",children:(()=>{let e=new Date;return e.setDate(e.getDate()+5),e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})()})]})]})]})]}):(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-extrabold text-gray-900",children:"Track Your Shipment"}),(0,r.jsx)("p",{className:"mt-4 text-xl text-gray-600",children:"Enter your tracking number to get real-time updates on your shipment."})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("form",{onSubmit:f,className:"flex flex-col gap-4",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter tracking number",className:"p-4 text-lg border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",disabled:m,className:"bg-blue-600 text-white py-4 text-lg font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:m?"Tracking...":"Track Shipment"})]}),h&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700",children:(0,r.jsx)("p",{className:"text-lg",children:h})})]})]})})})]})}}},function(e){e.O(0,[445,490,664,675,888,774,179],function(){return e(e.s=7379)}),_N_E=e.O()}]);