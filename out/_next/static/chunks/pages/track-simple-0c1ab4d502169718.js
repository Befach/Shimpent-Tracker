(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{5157:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/track-simple",function(){return s(723)}])},7295:function(e,t,s){"use strict";var r=s(6490);let n="https://semzvmdjabbceqvanxbt.supabase.co";console.log("Creating Supabase client with URL:",n);let i=(0,r.eI)(n,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlbXp2bWRqYWJiY2VxdmFueGJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI1NTg2NzMsImV4cCI6MjA1ODEzNDY3M30.1WVli2iZhMfnXD8HZk5Q7WLLdy9p33tSAGyALoEeq-Q",{auth:{persistSession:!0}});t.Z=i},723:function(e,t,s){"use strict";s.r(t);var r=s(5893),n=s(7294),i=s(9008),a=s.n(i),c=s(7295);t.default=()=>{let[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),[d,m]=(0,n.useState)(""),u=async t=>{if(t.preventDefault(),!e.trim()){m("Please enter a tracking number");return}o(!0),m(""),i(null);try{console.log("Searching for tracking ID:",e);let{data:t,error:s}=await c.Z.from("shipments").select("tracking_id, origin_city, origin_country, destination_city, destination_country, current_location_city, current_location_country, status, transport_mode, created_at").eq("tracking_id",e).single();if(console.log("Query result:",{data:t,error:s}),s){console.error("Error fetching shipment:",s),m("Error: ".concat(s.message));return}if(!t){m("No shipment found with this tracking number");return}console.log("Shipment found:",t),i(t)}catch(e){console.error("Tracking error:",e),m("Failed to track shipment. Please try again.")}finally{o(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Track Your Shipment | ShipTrack"})}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Track Your Shipment"}),(0,r.jsx)("p",{className:"mt-3 text-xl text-gray-500",children:"Enter your tracking number to get real-time updates on your shipment."})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,r.jsxs)("form",{onSubmit:u,className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter tracking number",className:"flex-1 p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:l?"Tracking...":"Track Shipment"})]}),d&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 text-red-700",children:(0,r.jsx)("p",{children:d})})]}),s&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"border-b pb-4 mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Shipment Details"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Tracking ID: ",s.tracking_id]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Origin"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[s.origin_city,", ",s.origin_country]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Destination"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[s.destination_city,", ",s.destination_country]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Current Location"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[s.current_location_city||"",", ",s.current_location_country||""]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Transport Mode"}),(0,r.jsx)("p",{className:"text-gray-600",children:s.transport_mode})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Shipment Status"}),(0,r.jsx)("div",{className:"bg-blue-50 p-4 rounded-md",children:(0,r.jsx)("p",{className:"text-blue-800 font-medium",children:s.status})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Shipment Timeline"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,r.jsxs)("p",{className:"text-gray-800",children:["Current Status: ",s.status]}),(0,r.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:["Shipment created on: ",new Date(s.created_at).toLocaleDateString()]})]})]})]})]})})]})}}},function(e){e.O(0,[490,888,774,179],function(){return e(e.s=5157)}),_N_E=e.O()}]);